{% extends 'base.html' %}

{% block content %}
<div class="max-w-4xl mx-auto bg-white p-6 rounded-lg shadow-md mt-8">
  <h2 class="text-2xl font-bold text-purple-700 mb-6 flex items-center gap-2">
    🛠️ Maintenances de la machine : <span class="text-gray-800">{{ machine.nom }}</span>
  </h2>

  <ul class="space-y-4">
    {% for m in maintenances %}
      <li class="border p-4 rounded-lg bg-gray-50 hover:bg-gray-100 transition">
        <div class="flex justify-between items-center">
          <div>
            <p class="font-semibold text-lg text-gray-800">{{ m.titre }}</p>
            <p class="text-sm text-gray-600">Statut : <span class="font-medium">{{ m.statut }}</span></p>
            <p class="text-sm text-gray-600">Prochaine date : {{ m.prochaine_date }}</p>
          </div>
          <a href="{% url 'voir_maintenance_machine' machine_id=machine.id %}"
             class="text-sm text-white bg-purple-600 hover:bg-purple-700 px-4 py-2 rounded shadow flex items-center gap-2">
            🔍 Voir détails
          </a>
        </div>
      </li>
    {% empty %}
      <li class="text-gray-500 italic">Aucune maintenance trouvée.</li>
    {% endfor %}
  </ul>

  <div class="mt-6">
    <a href="{% url 'machines' %}" class="text-purple-600 hover:underline text-sm">
      ← Retour à la liste des machines
    </a>
  </div>
</div>
{% endblock %}
